#!/bin/bash
set -euo pipefail

case "${DEBUG:-}" in
  true|1|yes|on)
    set -x
    ;;
esac

# aqua.yaml hash: {{ include "dot_config/aquaproj-aqua/aqua.yaml" | sha256sum }}

export XDG_CONFIG_HOME="$HOME/.config"
export XDG_DATA_HOME="$HOME/.local/share"
export AQUA_ROOT_DIR="$XDG_DATA_HOME/aquaproj-aqua"
export AQUA_GLOBAL_CONFIG="$XDG_CONFIG_HOME/aquaproj-aqua/aqua.yaml"
export PATH="$HOME/.local/bin:$PATH"

if command -v aqua &>/dev/null; then
  echo "[+] Installing tools with aqua..."
  # `aqua i` ignores global configuration by default. To install tools of global configuration by aqua i, set the -a option.
  # https://aquaproj.github.io/docs/tutorial/global-config/#aqua-i-ignores-global-configuration-by-default
  aqua install -a
fi